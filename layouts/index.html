{{ define "head" }}
  {{ partials.Include "carousel-scripts.html" . }}
{{ end }}

{{ define "main" }}
<div class="hero-section">
  <div class="hero-content">
    <h1 class="hero-title">Welkom bij Xandria Huisvesting</h1>
    <p class="hero-subtitle">Uw partner in vastgoedontwikkeling en -beheer</p>
  </div>
</div>

<section class="featured-properties">
  <div class="container">
    <h2 class="section-title">Beschikbare Appartementen</h2>
    <div class="properties-grid">
      {{- $teHuurPages := where .Site.Pages "Section" "te-huur" -}}
      {{- $allPages := where $teHuurPages "Kind" "page" -}}
      {{- $available := where $allPages "Params.status" "Beschikbaar" -}}
      {{- $shuffledAvailable := shuffle $available -}}
      {{- $selected := slice -}}
      {{- range $i, $p := $shuffledAvailable }}
        {{- if lt (len $selected) 3 }}
          {{- $selected = $selected | append $p -}}
        {{- end -}}
      {{- end -}}
      {{- if lt (len $selected) 3 }}
        {{- $remaining := where $allPages "Params.status" "ne" "Beschikbaar" -}}
        {{- $shuffledRemaining := shuffle $remaining -}}
        {{- range $i, $p := $shuffledRemaining }}
          {{- if lt (len $selected) 3 }}
            {{- $selected = $selected | append $p -}}
          {{- end -}}
        {{- end -}}
      {{- end -}}
      {{- range $selected }}
        {{ partial "property-card.html" . }}
      {{ end }}
    </div>
    
    <div class="view-all-section">
      <a href="{{ "/te-huur" | relURL }}" class="btn-secondary btn-large">Bekijk Alle Appartementen</a>
    </div>
  </div>
</section>

<section class="services-section">
  <div class="container">
    <h2 class="section-title">Onze Diensten</h2>
    <div class="services-grid">
      <div class="service-card">
        <div class="service-icon">🏗️</div>
        <h3>Vastgoedontwikkeling</h3>
        <p>Professionele ontwikkeling van kwalitatieve woonprojecten</p>
      </div>
      <div class="service-card">
        <div class="service-icon">🔧</div>
        <h3>Vastgoedbeheer</h3>
        <p>Volledig beheer van uw vastgoedportefeuille</p>
      </div>
      <div class="service-card">
        <div class="service-icon">🏠</div>
        <h3>Verhuur</h3>
        <p>Bemiddeling en beheer van verhuurpanden</p>
      </div>
    </div>
  </div>
</section>

{{ end }}
